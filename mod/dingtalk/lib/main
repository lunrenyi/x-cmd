# shellcheck shell=sh disable=SC2039,SC3043,SC2120,SC2154
# reference:    https://open.dingtalk.com/document/group/custom-robot-access

xrc param http ui
___x_cmd log init dingtalk
xrc:mod:lib dingtalk util type bot cfg

___x_cmd_dingtalk___main(){
    param:advise dingtalk

    param:subcmd ___x_cmd_dingtalk                              \
        bot             "dingtalk bot"                          \
        --cfg           "manage configuration for dingtalk"     \
        --cur           "current configuration for dingtalk"    \
        init            "Interactive UI init configuration"
    param:subcmd:try

    param:subcmd ___x_cmd_dingtalk_bot           \
        send            "send msg"
    param:subcmd:try

    param:run
    dingtalk:error "Subcommand required"
    ___x_cmd_dingtalk --help
}

___x_cmd_dingtalk_help(){
    ___x_cmd help -m dingtalk "$@" >&2
}
